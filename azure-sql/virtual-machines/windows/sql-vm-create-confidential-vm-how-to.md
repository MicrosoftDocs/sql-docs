---
title: Deploy SQL Server to an Azure confidential VM
description: This article shows you how to deploy SQL Server to an Azure confidential VM. 
author: bluefooted
ms.author: pamela
ms.reviewer: mathoma
ms.date: 10/14/2022
ms.service: virtual-machines-sql
ms.subservice: deployment
ms.topic: quickstart
ms.custom: mode-ui, ignite-2022
tags: azure-resource-manager
---

# Deploy SQL Server to an Azure confidential VM

[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]


In this article, learn how to deploy SQL Server to an Azure confidential VM. 


## Overview

[Azure confidential VMs](/azure/confidential-computing/confidential-vm-overview) provide a strong, hardware-enforced boundary that hardens the protection of the guest OS against host operator access. Choosing a confidential VM size for your SQL Server on Azure VM provides an extra layer of protection, enabling you to confidently store your sensitive data in the cloud and meet strict compliance requirements. 

Azure confidential VMs leverage [AMD processors with SEV-SNP](/azure/confidential-computing/virtual-machine-solutions-amd) technology that encrypt the memory of the VM using keys generated by the processor. This helps protect data while it's in use (the data that is processed inside the memory of the SQL Server process) from unauthorized access from the host OS. The OS disk of a confidential VM can also be encrypted with keys bound to the Trusted Platform Module (TPM) chip of the virtual machine, reinforcing protection for data-at-rest. 

Azure confidential VMs are available in both the [general purpose](performance-guidelines-best-practices-vm-size.md#dcadsv5-series)  and [memory optimized](performance-guidelines-best-practices-vm-size.md#ecadsv5-series) VM size series. 

Recommendations for disk encryption are different for confidential VMs than for the other VM sizes. See [disk encryption](security-considerations-best-practices.md#azure-confidential-vms) to learn more. 

## Deploy SQL Server to a confidential VM

For detailed steps to deploy a confidential VM, review the [Quickstart: Deploy a SQL Server on Azure VM](sql-vm-create-portal-quickstart.md?tabs=confidential-vm). 

To deploy a SQL Server VM to a confidential Azure VM, select the following values when deploying a SQL Server VM:

1. Choose a supported region. To validate region supportability, look for the `ECadsv5-series` or `DCadsv5-series` in [VM products Available by Azure region](https://azure.microsoft.com/explore/global-infrastructure/products-by-region/?products=virtual-machines). 
1. Set the **Security type** to **Confidential virtual machines**.  If this option is grayed out, it's likely the chosen region doesn't currently support confidential VMs. Choose a different region from the drop-down. 
1. Choose a supported confidential SQL Server image. To change the SQL Server image, select **See all images** and then filter by **Security type = Confidential VMs** to identify all SQL Server images that support confidential VMs. 
1. Choose a supported VM size. To see all available sizes, select **See all sizes** to identify all the VM sizes that support confidential VMs, as well as the sizes that don't. 
1. (Optional) Configure confidential disk encryption. Follow the steps in the [Disk section of the Quickstart](sql-vm-create-portal-quickstart.md?tabs=confidential-vm#disks). 

## Identify available images

To view all SQL Server images that support confidential VMs, begin to deploy a SQL Server virtual machine from the [Azure portal](https://portal.azure.com), and then select **See all images**  under **Images** on the **Basics tab** to open the Azure Marketplace. Filter the options by selecting **Security type = Confidential** to view all SQL Server images that support confidential VMs. 

## Limitations

- Currently, only the following SQL Server images support Azure confidential VMs: 
    - `SQL Server 2019 Enterprise on Windows Server 2022 Database Engine Only`. 
    - `SQL Server 2017 Enterprise on Windows Server 2019 Database Engine Only`
- Confidential VMs aren't currently available in all regions. To validate region supportability, look for the `ECadsv5-series` or `DCadsv5-series` in [VM products Available by Azure region](https://azure.microsoft.com/explore/global-infrastructure/products-by-region/?products=virtual-machines). 

## Next steps

In this article, you learned to deploy SQL Server to a confidential virtual machine in the Azure portal. To learn more about how to migrate your data to the new SQL Server, see the following article.

> [!div class="nextstepaction"]
> [Migrate a database to a SQL VM](migrate-to-vm-from-sql-server.md)
